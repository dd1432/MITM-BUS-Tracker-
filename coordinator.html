<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MITM Bus Coordinator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4ff;
      text-align: center;
      padding: 20px;
    }
    header img {
      width: 120px;
      margin-bottom: 10px;
    }
    h1 { color: #003366; }
    select, button {
      margin: 10px;
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #003366;
    }
    button {
      background: #003366;
      color: white;
	
      cursor: pointer;
    }
	  .stop-btn {
      display: block;
      margin: 10px auto;
      padding: 15px;
      width: 90%;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #003366;
      background: white;
      cursor: pointer;
		  color: #000;
    }

    .stop-btn.active {
      background: pink;
      color: #000;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://mitm.ac.in/assets/header/mitm_logo.png" alt="MITM Logo">
    <h1>MITM College Bus Coordinator</h1>
  </header>

  <p>Update the bus stop when bus reaches.</p>

	 <div id="stopsContainer"></div>
  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

   <script>
    const firebaseConfig = {
      apiKey: "AIzaSyA86llWq52ezXRUiwruFGgd5VIRE1Jm_YQ",
      authDomain: "college-bus-tracker-a8bff.firebaseapp.com",
      databaseURL: "https://college-bus-tracker-a8bff-default-rtdb.firebaseio.com",
      projectId: "college-bus-tracker-a8bff",
      storageBucket: "college-bus-tracker-a8bff.appspot.com",
      messagingSenderId: "217946135382",
      appId: "1:217946135382:web:d163cf827ff63a022154f7"
    };
    firebase.initializeApp(firebaseConfig);

    const stops = [
      "Not Started Yet",
      "SRM college circle",
      "Police Station",
	"Kudal stand",
      "Ambedkar Chowk",
      "Gulmohar Hotel",
	"Kudal depo",
      "Belnadi",
      "Pawshi",
      "Bambarde",
      "Pandur",
	"Humarmala",
      	"Rane stop",
      "Jijamata",
	"Oros Phata",
      "Oros Stand",
      "ZP office",
	"Hospital",
      	"Rly stn",
      	"ranbambuli phata",
      "Padte Dukan",
      "Sukalwad",
	"talavde phata",
      	"Rly phatak",
      "MITM"
    ];

    const container = document.getElementById("stopsContainer");

    stops.forEach((stop, index) => {
      const btn = document.createElement("button");
      btn.textContent = stop;
      btn.className = "stop-btn";
      btn.onclick = () => {
        // Update Firebase
        firebase.database().ref("bus/currentStop").set(stop);

        // Reset all buttons
        document.querySelectorAll(".stop-btn").forEach(b => b.classList.remove("active"));

        // Highlight current button
        btn.classList.add("active");
      };
      container.appendChild(btn);
    });
  </script>
	<button id="prevStop">⬅ Previous</button>
<button id="nextStop">Next ➡</button>

<script>
  let currentIndex = 0;

  document.getElementById("prevStop").addEventListener("click", () => {
    if (currentIndex > 0) {
      currentIndex--;
      firebase.database().ref("bus/currentStop").set(stops[currentIndex]);

      // Highlight the active stop button
      document.querySelectorAll(".stop-btn").forEach(b => b.classList.remove("active"));
      document.querySelectorAll(".stop-btn")[currentIndex].classList.add("active");
    }
  });

  document.getElementById("nextStop").addEventListener("click", () => {
    if (currentIndex < stops.length - 1) {
      currentIndex++;
      firebase.database().ref("bus/currentStop").set(stops[currentIndex]);

      // Highlight the active stop button
      document.querySelectorAll(".stop-btn").forEach(b => b.classList.remove("active"));
      document.querySelectorAll(".stop-btn")[currentIndex].classList.add("active");
    }
  });

  // Keep currentIndex in sync with Firebase
  firebase.database().ref("bus/currentStop").on("value", (snapshot) => {
    const stop = snapshot.val();
    currentIndex = stops.indexOf(stop);

    // Highlight button
    if (currentIndex >= 0) {
      document.querySelectorAll(".stop-btn").forEach(b => b.classList.remove("active"));
      document.querySelectorAll(".stop-btn")[currentIndex].classList.add("active");
    }
  });
</script>
</body>
</html>




